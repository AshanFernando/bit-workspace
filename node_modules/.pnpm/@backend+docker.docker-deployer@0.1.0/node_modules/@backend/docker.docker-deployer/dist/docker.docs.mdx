---
labels: ['build-task', 'Docker', 'Apps']
description: 'Docker build task for apps.'
---

Build task responsible of building and pushing Docker images based on Bit apps.

## Usage

First, apply the task to the build pipeline (or tag/snap):

```ts
import { ViteReact } from '@bitdev/react.app-types.vite-react';
import { DockerDeploy } from '@backend/docker.docker-deployer';

export default ViteReact.from({
  name: 'vite-app',
  ssr: true,
  deploy: DockerDeploy.deploy({
    org: 'bitdevcommunity',
    buildOptions: {
      platform: 'linux/amd64',
    },
    pushOptions: {
      authconfig: {
        username: 'bitdevcommunity',
        password: process.env.DOCKER_PASSWORD || '',
        serveraddress: 'https://index.docker.io/v1',
      },
    },
  }),
});
```

Then, for the apps you are going to use, add them to the workspace by using:

```bash
bit use <name-of-app>
```

:::info
The app component has to be labeled as an app to be able to work in Ripple CI.
:::

Finally, add a `Dockerfile` to the root of the app (example [here](https://bit.cloud/backend/docker/examples/vite-app/~code/Dockerfile)) and build the app:

```bash
bit build
```

## Configuration

- `org` - the Docker organization to push the image to. For example, `bitdev`, this will push the image to `bitdev/<app-name>`.
- `tag` - the tag to use for the image. Overrides the default tag **and organization**. For example, `my-awesome-app:latest`.
- `latest` - whether to tag the image as `latest` or not. Defaults to `false` (the tag/snap version will be used).
- `push` - whether to push the image to the registry or not. Defaults to `false`.
- `buildOptions` - options to pass to the `docker build` command. For example, `platform: linux/amd64`. See [here](https://github.com/apocas/dockerode?tab=readme-ov-file#documentation) for more information.
- `pushOptions` - options to pass to the `docker push` command. For example, authentication options. See [here](https://github.com/apocas/dockerode?tab=readme-ov-file#documentation) for more information.
  - `pushOptions.authConfig.serveraddress` - the registry to push the image to. Defaults to `https://index.docker.io/v1/`.
  - `pushOptions.authConfig.username` - the username to use for authentication.
  - `pushOptions.authConfig.password` - the password to use for authentication.
