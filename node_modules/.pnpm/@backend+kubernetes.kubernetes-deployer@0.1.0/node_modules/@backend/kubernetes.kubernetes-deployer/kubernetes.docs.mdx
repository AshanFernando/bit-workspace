---
labels: ['kubernetes', 'deployment']
description: 'Component to deploy a Bit app to a Kubernetes cluster.'
---

This component allows to deploy a Bit app to a Kubernetes cluster.
The developer should provide a Cloud Provider adapter to select where to apply the deployments. This example uses an adapter for Google Cloud Platform (Google Kubernetes Engine).

## Usage

```ts
import { KubernetesDeployer } from '@backend/kubernetes.kubernetes-deployer';
import { GKEAdapter } from '@backend/kubernetes.adapters.gke';

export const AcmePlatform = Platform.from({
  // ...
  deploy: KubernetesDeployer.deploy({
    files: ['./kubernetes/*.yaml'],
    adapter: new GKEAdapter({
      clusterName: 'acme-platform',
      zone: 'us-central1',
      keyJson: process.env.K8S_GOOGLE_CLOUD,
    }),
  }),
});

export default AcmePlatform;
```

### Create your own adapter

To create an adapter, you need to implement the `K8Adapter` interface. From there, just implement the credential methods:

- `getCredentials`: Get the credentials to connect to the cluster.
  - endpoint: The endpoint to connect to the cluster.
  - token: The token to authenticate to the cluster.
  - certificate - The certificate to connect to the cluster.

```ts
import type { K8Adapter } from '@backend/kubernetes.kubernetes-deployer';
import type { KubernetesObjectApi } from '@kubernetes/client-node';

type MyAdapterConfig = {
  // The configuration for the adapter. Such as the credentials, the cluster name, etc.
};

export class MyAdapter implements K8Adapter {
  constructor(private readonly config: MyAdapterConfig) {}

  async getCredentials(): Promise<{
    endpoint: string;
    token: string;
    certificate: string;
  }> {
    // Get the credentials from the configuration.
    return {
      endpoint: 'https://my-cluster-endpoint',
      token: 'my-cluster-token',
      certificate: 'my-cluster-certificate',
    };
  }
}
```
