import { TonalPalette, argbFromHex, hexFromArgb } from '@material/material-color-utilities';
import { ColorOptions } from './color.js';

export type GenerateColorSchemeOptions = {
  factor: number;
};

/**
 * compute a gradient from a user color options.
 */
export function computeGradient(baseColor: ColorOptions): string[] {
  const testColor = argbFromHex(baseColor.origin);
  const material = TonalPalette.fromInt(testColor);
  const allTones = new Array(10).fill(undefined).map((_, key) => {
    const weight = key * 100;
    const materialWeight = key * 10;
    if (baseColor[weight]) return baseColor[weight];
    return hexFromArgb(material.tone(materialWeight));
  });

  return allTones.reverse();
}
