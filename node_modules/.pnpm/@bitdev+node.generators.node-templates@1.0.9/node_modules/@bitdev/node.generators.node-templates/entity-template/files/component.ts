import { ComponentContext } from '@teambit/generator';

export const componentFile = (context: ComponentContext) => {
  const { name, namePascalCase } = context;
  return {
    relativePath: `${name}.ts`,
    content: `
export type Plain${namePascalCase} = {
  name: string;
}

export class ${namePascalCase} {
  constructor(
    /**
     * name of the instance
     */
    readonly name: string
  ) {}

  /**
   * serialize a ${namePascalCase} into
   * a serializable object.
   */
  toObject() {
    return {
      name: this.name
    };
  }

  /**
   * create a ${namePascalCase} object from a 
   * plain object.
   */
  static from(plain${namePascalCase}: Plain${namePascalCase}) {
    return new ${namePascalCase}(
      plain${namePascalCase}.name
    );
  }
}
`,
  };
};
