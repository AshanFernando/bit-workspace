// Override the Jest config to ignore transpiling from specific folders
// See the base Jest config: https://bit.cloud/teambit/react/react/~code/jest/jest.config.js

const {
  generateNodeModulesPattern,
} = require('@teambit/dependencies.modules.packages-excluder');
// const { esmConfig } = require('@teambit/react.jest.react-jest');

const packagesToExclude = ['@teambit', '@my-org', 'my-package-name'];

module.exports = {
  // ...esmConfig,
  ...jestConfig,
  testEnvironment: 'node',
  setupFiles: [],
  setupFilesAfterEnv: [],
  transformIgnorePatterns: [
    '^.+.module.(css|sass|scss)$',
    generateNodeModulesPattern({
      packages: packagesToExclude,
      excludeComponents: true,
    }),
  ],
};
